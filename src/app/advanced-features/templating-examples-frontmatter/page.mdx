import Callout from '@/components/Callout'
import noteFrontmatter from '@/images/note-frontmatter.png'
import resultingNote from '@/images/resulting-template.png'

# Creating Notes with Properties/Frontmatter

`Templating` provides support for templates which create notes with properties/frontmatter of their own. The note properties/frontmatter used by the template processor is placed at the top (in the Properties editor, or between `--` separators in the raw file). You can add properties for the new note's frontmatter by enclosing it at the very top of the template between the `--` (two dashes) separators.

In the following example, the template frontmatter is at the top between `---` (three dashes) while the note frontmatter (that gets copied into the note) is defined between the two dashes `--` just below:

<img src={noteFrontmatter.src} alt="Note Frontmatter Example" width="70%" />

In this example, there are two frontmatter areas:

1. The template's frontmatter in the Properties editor
2. The resulting note's frontmatter, which is between the `--` separators in the template

## The Resulting Note

The resulting note ends up with its own frontmatter fields: note, name, phone, icon, icon-color, etc.

<img src={resultingNote.src} alt="Resulting Note Example" width="70%" />

## Prompting for values to be used in the note's frontmatter

You can use prompts in frontmatter/properties to set the value of a frontmatter key of the template as it is rendered.

```markdown
---
title: My Template with Prompt for New Note's Frontmatter
---
--
priority: <%- prompt('priority','What is the new note's priority?',['high','medium','low']) %>
--
```

When the template is rendered, it will display a choice list prompt for the `priority` key, and the value entered will be used as the value of the `priority` key in the new note's frontmatter.


### Example: Complete Frontmatter Template

The following example demonstates a complete frontmatter format template with prompts that populate the new note's frontmatter.

```markdown
---
title: My Template with Prompt for New Note's Frontmatter
newNoteTitle: <%- prompt('newNoteTitle',"What is the new note's title?") %>
---
--
title: <%- newNoteTitle %>
context: <%- prompt('context',"What is the new note's context?") %>
name: Mike Erickson
phone: 714.555.1212
modified: <%- date.now('YYYY-MM-DD h:mm A') %>
description: The following content will be ignored when rendering a frontmatter template and cannot contain any carriage returns (this note is auto wrapped)
--
## <%- prompt('topic1',"What is the first topic in the note?") %>
```

<Callout type="info">
**Prompts**: Prompts are evaluated before the template is rendered, so you can use them to set values of either a frontmatter key to be used in the processing of the template or in the resulting note's frontmatter or body content.
The above example will display 3 prompts in order of appearance in the template:

- a prompt for the `newNoteTitle` key, and the value entered will be used to create the new note's title and the value will be set as the `title` key in the new note's frontmatter. 
- a prompt for the `context` key, and the value entered will be used as the value of the `context` key in the new note's frontmatter. 
- a prompt for the first topic in the new note.

Even though the prompts are in different places in the template, they will all be displayed (in the order they appear in the template) when the template rendering begins. 

</Callout>

## Where to Put the Prompts

There is no right or wrong place to put the prompts, but it is often easier to put them in the main template's frontmatter and access them later **by variable name** where they are needed.

For example, the following template has 3 prompts in the frontmatter and the resulting values are used in various places:

```markdown
---
newNoteTitle: <%- prompt('newNoteTitle',"What is the new note's title?") %>
newNoteContext: <%- prompt('newNoteContext',"What is the new note's context?") %>
firstTopic: <%- prompt('firstTopic',"What is the first topic in the note?") %>
---
--
title: <%- newNoteTitle %>
context: <%- newNoteContext %>
--
## <%- firstTopic %>
```

## Setting the Note Title with Frontmatter

As you see in the example above, you can include a `title` field in your embedded frontmatter (between the `--` separators) to set the title of the new note. This is particularly useful when you want to dynamically generate note titles based on template variables or user prompt input.

For more control over the note title, you can use the `newNoteTitle` field in your template's frontmatter (between the `---` separators). This field allows you to:

- Set the title programmatically using template variables
- Use prompts to get user input for the title
- Reference the title later in your template to create frontmatter

#### Example: Dynamic Title with Template Variables

```markdown
---
title: Meeting Template
type: meeting-note
folder: My Meeting Folder
newNoteTitle: <%- eventTitle %> - <%- eventDate('YYYY-MM-DD') %>
---
--
title: <%- newNoteTitle %>
category: Meetings
--
Agenda...
```

#### Example: User Prompt for Title

```markdown
---
title: Meeting Template
type: blank-note
folder: My Meeting Folder
newNoteTitle: <%- prompt("What's the Subject of the meeting?") %>
---
--
title: <%- newNoteTitle %>
category: Meetings
--
Agenda...
```

<Callout type="tip">
**Key Difference**: Generally, you will want to use the `newNoteTitle` field in templates to set the note's title when creating a new note, e.g. with the `/New Note from Template` command.
</Callout>
