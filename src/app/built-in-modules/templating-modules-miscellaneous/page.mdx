import Callout from '@/components/Callout'
import Link from 'next/link'

# Miscellaneous Template Commands

The Templating plugin provides various utility commands that can be used in your templates beyond the prompt commands. These commands can be used with the `&lt;%-` template tag syntax to include dynamic content in your templates.

## Content Generation

### Inspirational Content

```markdown
&lt;%- affirmation() &gt;%
```
Returns a random affirmation.

```markdown
&lt;%- advice() &gt;%
```
Returns a random piece of advice.

```markdown
&lt;%- quote() &gt;%
```
Returns the daily quote.

```markdown
&lt;%- wotd() &gt;%
```
Returns the word of the day.

## Weather Information

```markdown
&lt;%- weather() &gt;%
```
Returns weather information using the default format configured in settings.

```markdown
&lt;%- weather('format') &gt;%
```
Returns weather information using the specified format.

## Date and Time

```markdown
&lt;%- now() &gt;%
```
Returns the current date.

```markdown
&lt;%- timestamp() &gt;%
```
Returns the current timestamp.

```markdown
&lt;%- currentTime() &gt;%
```
Returns the current time.

```markdown
&lt;%- currentDate() &gt;%
```
Returns the current date (alias for `now()`).

```markdown
&lt;%- date8601() &gt;%
```
Returns the current date in ISO 8601 format (YYYY-MM-DD).

```markdown
&lt;%- formattedDateTime({ format: 'format string' }) &gt;%
```
or
```markdown
&lt;%- formattedDateTime('format string') &gt;%
```
Returns the current date/time in the specified format.

```markdown
&lt;%- weekDates(params) &gt;%
```
Returns a list of dates for the current week. Accepts parameters to customize the output.

<Callout type="info" title="Deprecated Commands">
The following commands are deprecated and should be replaced with their newer alternatives:

- `pickDate()` - Use `promptDate()` instead.
- `pickDateInterval()` - Use `promptDateInterval()` instead.
</Callout>

## Calendar Events

```markdown
&lt;%- events(params) &gt;%
```
Lists events for a specified day. Parameters can control which events are displayed and how they are formatted.

```markdown
&lt;%- listTodaysEvents(params) &gt;%
```
Lists today's events with optional formatting parameters.

```markdown
&lt;%- matchingEvents(params) &gt;%
```
Lists events matching specified criteria.

```markdown
&lt;%- listMatchingEvents(params) &gt;%
```
Alias for `matchingEvents()`.

## Project Management

```markdown
&lt;%- progressUpdate(params) &gt;%
```
Shows progress update information using the Summaries plugin.

```markdown
&lt;%- todayProgressFromTemplate(params) &gt;%
```
Shows today's progress from a template using the Summaries plugin.

## Frontmatter Utilities

```markdown
&lt;%- getValuesForKey('keyName') &gt;%
```
Returns all values found in frontmatter across all notes for the specified key. Returns them as an array of strings, e.g. ["apple","banana"]

## Editor Utilities

```markdown
&lt;%- selection() &gt;%
```
Returns the currently selected text in the editor. Useful for incorporating selected content into templates.

## Parameter Formats

Many of these commands accept parameters in JSON format to customize their behavior. For example:

```markdown
&lt;%- events({ 
  "days": 1, 
  "calendars": ["Work", "Personal"],
  "format": "- $title ($start-$end)" 
}) &gt;%
```

This would list events for the next day from the "Work" and "Personal" calendars, formatted as "- Event Name (start time-end time)".

<Callout type="warning" title="Plugin Dependencies">
Some commands require other NotePlan plugins to be installed:

- `events()`, `listTodaysEvents()`, `matchingEvents()`, and `listMatchingEvents()` require the EventHelpers plugin.
- `progressUpdate()` and `todayProgressFromTemplate()` require the Summaries plugin.
- `sweepTasks()` requires the Sweep plugin.
- `date8601()` and `weekDates()` require the DateAutomations plugin.
</Callout>

## Examples

Here are some example uses of these commands in templates:

### Daily Note Template
```markdown
# Daily Note for &lt;%- now() &gt;%

## Weather
&lt;%- weather() &gt;%

## Quote of the Day
&lt;%- quote() &gt;%

## Today's Events
&lt;%- listTodaysEvents() &gt;%

## Tasks
&lt;%- sweepTasks({ source: "/Inbox", destination: "## Tasks" }) &gt;%
```

### Weekly Review Template
```markdown
# Weekly Review: &lt;%- weekDates({ format: "MMM D" }) &gt;%

## Progress this Week
&lt;%- progressUpdate({ period: "week" }) &gt;%

## Upcoming Week
&lt;%- events({ days: 7, format: "### $date\n$events" }) &gt;%
``` 